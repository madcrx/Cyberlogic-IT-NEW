const $=t=>document.querySelector(t),$$=t=>document.querySelectorAll(t);class Navigation{constructor(){this.navbar=$("#navbar"),this.navToggle=$("#navToggle"),this.navMenu=$("#navMenu"),this.navLinks=$$(".nav-link"),this.init()}init(){window.addEventListener("scroll",()=>this.handleScroll()),this.navToggle.addEventListener("click",()=>this.toggleMenu()),this.navLinks.forEach(t=>{t.addEventListener("click",t=>this.handleLinkClick(t))}),document.addEventListener("click",t=>this.handleOutsideClick(t))}handleScroll(){window.scrollY>50?this.navbar.classList.add("scrolled"):this.navbar.classList.remove("scrolled"),this.updateActiveLink()}toggleMenu(){this.navMenu.classList.toggle("active"),this.navToggle.classList.toggle("active")}handleLinkClick(t){const e=t.currentTarget.getAttribute("href");if(e&&e.startsWith("#")){t.preventDefault();const s=e.substring(1),i=$(`#${s}`);if(i){const t=i.offsetTop-80;window.scrollTo({top:t,behavior:"smooth"})}this.navMenu.classList.contains("active")&&this.toggleMenu()}}handleOutsideClick(t){this.navMenu.contains(t.target)||this.navToggle.contains(t.target)||!this.navMenu.classList.contains("active")||this.toggleMenu()}updateActiveLink(){const t=$$("section[id]"),e=window.scrollY+100;t.forEach(t=>{const s=t.offsetTop,i=t.offsetHeight,o=t.getAttribute("id");e>=s&&e<s+i&&this.navLinks.forEach(t=>{t.classList.remove("active"),t.getAttribute("href")===`#${o}`&&t.classList.add("active")})})}}class CounterAnimation{constructor(){this.counters=$$(".stat-number"),this.animated=!1,this.init()}init(){window.addEventListener("scroll",()=>this.checkScroll()),this.checkScroll()}checkScroll(){if(this.animated)return;const t=$(".hero-stats");if(!t)return;t.getBoundingClientRect().top<window.innerHeight-100&&(this.animated=!0,this.animateCounters())}animateCounters(){this.counters.forEach(t=>{const e=parseInt(t.getAttribute("data-target")),s=e/125;let i=0;const o=()=>{i+=s,i<e?(t.textContent=Math.ceil(i),requestAnimationFrame(o)):t.textContent=e};o()})}}class FAQAccordion{constructor(){this.faqItems=$$(".faq-item"),this.init()}init(){this.faqItems.forEach(t=>{t.querySelector(".faq-question").addEventListener("click",()=>this.toggleItem(t))})}toggleItem(t){const e=t.classList.contains("active");this.faqItems.forEach(t=>{t.classList.remove("active")}),e||t.classList.add("active")}}class ContactForm{constructor(){this.form=$("#contactForm"),this.form&&(this.nameInput=$("#name"),this.emailInput=$("#email"),this.phoneInput=$("#phone"),this.serviceSelect=$("#service"),this.messageInput=$("#message"),this.submitBtn=this.form.querySelector(".btn-submit"),this.messageBox=this.form.querySelector(".form-message"),this.init())}init(){this.form.addEventListener("submit",t=>this.handleSubmit(t)),[this.nameInput,this.emailInput,this.phoneInput,this.serviceSelect,this.messageInput].forEach(t=>{t&&(t.addEventListener("blur",()=>this.validateField(t)),t.addEventListener("input",()=>this.clearError(t)))})}validateField(t){const e=t.closest(".form-group"),s=e.querySelector(".form-error");let i=!0,o="";if(this.clearError(t),t.hasAttribute("required")&&!t.value.trim())i=!1,o="This field is required";else if("email"===t.type&&t.value){/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.value)||(i=!1,o="Please enter a valid email address")}else if("tel"===t.type&&t.value){(!/^[\d\s\-\+\(\)]+$/.test(t.value)||t.value.replace(/\D/g,"").length<10)&&(i=!1,o="Please enter a valid phone number")}return i||(e.classList.add("error"),s.textContent=o),i}clearError(t){const e=t.closest(".form-group"),s=e.querySelector(".form-error");e.classList.remove("error"),s.textContent=""}validateForm(){const t=[this.nameInput,this.emailInput,this.serviceSelect,this.messageInput];let e=!0;return t.forEach(t=>{this.validateField(t)||(e=!1)}),this.phoneInput.value&&(this.validateField(this.phoneInput)||(e=!1)),e}async handleSubmit(t){if(t.preventDefault(),!this.validateForm())return void this.showMessage("Please correct the errors above","error");this.submitBtn.classList.add("loading"),this.submitBtn.disabled=!0;const e={name:this.nameInput.value,email:this.emailInput.value,phone:this.phoneInput.value,service:this.serviceSelect.value,message:this.messageInput.value,timestamp:(new Date).toISOString()};try{await this.simulateSubmission(e),this.showMessage("Thank you for your message! We will get back to you soon.","success"),this.form.reset(),this.storeSubmission(e)}catch(t){this.showMessage("Sorry, there was an error sending your message. Please try again.","error"),console.error("Form submission error:",t)}finally{this.submitBtn.classList.remove("loading"),this.submitBtn.disabled=!1}}simulateSubmission(t){return new Promise((e,s)=>{setTimeout(()=>{Math.random()>.1?e(t):s(new Error("Submission failed"))},1500)})}storeSubmission(t){try{let e=JSON.parse(localStorage.getItem("contactSubmissions")||"[]");e.push(t),localStorage.setItem("contactSubmissions",JSON.stringify(e))}catch(t){console.error("Error storing submission:",t)}}showMessage(t,e){this.messageBox.textContent=t,this.messageBox.className=`form-message ${e}`,"success"===e&&setTimeout(()=>{this.messageBox.className="form-message"},5e3)}}class ScrollToTop{constructor(){this.button=$("#scrollTop"),this.button&&this.init()}init(){window.addEventListener("scroll",()=>this.handleScroll()),this.button.addEventListener("click",()=>this.scrollToTop())}handleScroll(){window.scrollY>300?this.button.classList.add("visible"):this.button.classList.remove("visible")}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}}class ScrollAnimations{constructor(){this.init()}init(){const t=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&(t.target.style.opacity="1",t.target.style.transform="translateY(0)")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});$$(".service-card, .industry-card, .why-us-item, .process-step, .contact-content > *").forEach((e,s)=>{e.style.opacity="0",e.style.transform="translateY(30px)",e.style.transition=`all 0.6s ease ${.1*s}s`,t.observe(e)})}}function setCurrentYear(){const t=$("#currentYear");t&&(t.textContent=(new Date).getFullYear())}document.addEventListener("DOMContentLoaded",()=>{new Navigation,new CounterAnimation,new FAQAccordion,new ContactForm,new ScrollToTop,new ScrollAnimations,setCurrentYear(),document.querySelectorAll('a[href^="#"]').forEach(t=>{t.addEventListener("click",function(t){const e=this.getAttribute("href");if("#"===e)return;const s=$(e);if(s){t.preventDefault();const e=s.offsetTop-80;window.scrollTo({top:e,behavior:"smooth"})}})}),window.addEventListener("load",()=>{document.body.classList.add("loaded")}),console.log("%c Cyberlogic IT ","background: linear-gradient(135deg, #E89523 0%, #F2A843 100%); color: white; padding: 10px 20px; font-size: 16px; font-weight: bold;"),console.log("%c Professional IT Solutions & Custom Computer Systems ","color: #6b7280; font-size: 12px;")}),"serviceWorker"in navigator&&window.addEventListener("load",()=>{}),window.CyberlogicIT={getContactSubmissions:()=>{try{return JSON.parse(localStorage.getItem("contactSubmissions")||"[]")}catch{return[]}},clearContactSubmissions:()=>(localStorage.removeItem("contactSubmissions"),!0),exportSubmissions:()=>{const t=window.CyberlogicIT.getContactSubmissions(),e=JSON.stringify(t,null,2),s=new Blob([e],{type:"application/json"}),i=URL.createObjectURL(s),o=document.createElement("a");o.href=i,o.download=`cyberlogic-submissions-${(new Date).toISOString().split("T")[0]}.json`,o.click(),URL.revokeObjectURL(i)}};